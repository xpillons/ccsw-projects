# Blobfuse2 Configuration
# This file is sourced by the installation script to configure blobfuse2

# Azure Storage Account Settings
# These can be set here or passed via CycleCloud cluster parameters
# STORAGE_ACCOUNT_NAME=""
# STORAGE_CONTAINER_NAME=""

# Authentication Method: "msi" (Managed Identity) or "key" (Storage Account Key)
# Default: msi (recommended for security)
AUTH_METHOD="${AUTH_METHOD:-msi}"

# Storage Account Key (only used if AUTH_METHOD=key)
# STORAGE_ACCOUNT_KEY=""

# Mount Configuration
MOUNT_POINT="${MOUNT_POINT:-/blobfuse}"

# Cache Configuration
# Cache directory - auto-detects fastest storage (NVMe > local SSD > default)
# CACHE_DIR will be auto-detected if not specified
# CACHE_DIR=""

# Cache size in MB (default: 10GB)
CACHE_SIZE_MB="${CACHE_SIZE_MB:-10240}"

# Cache timeout in seconds (how long to keep files in cache)
CACHE_TIMEOUT_SEC="${CACHE_TIMEOUT_SEC:-120}"

# Blobfuse2 Advanced Settings
# File cache mode: "stream" or "file" (default: file for better performance)
FILE_CACHE_MODE="${FILE_CACHE_MODE:-file}"

# Allow other users to access the mount
ALLOW_OTHER="${ALLOW_OTHER:-true}"

# Read-only mount (set to true for read-only access)
READ_ONLY="${READ_ONLY:-true}"

# Logging level: LOG_OFF, LOG_CRIT, LOG_ERR, LOG_WARNING, LOG_INFO, LOG_DEBUG, LOG_TRACE
LOG_LEVEL="${LOG_LEVEL:-LOG_WARNING}"

# Log file location
LOG_FILE="${LOG_FILE:-/var/log/blobfuse2.log}"

# Enable debug logging for installation script
DEBUG_LOGGING="${DEBUG_LOGGING:-false}"

# systemd service configuration
# Enable auto-mount on boot via systemd service
ENABLE_SYSTEMD_SERVICE="${ENABLE_SYSTEMD_SERVICE:-true}"
